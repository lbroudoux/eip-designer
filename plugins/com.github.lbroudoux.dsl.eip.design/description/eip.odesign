<?xml version="1.0" encoding="UTF-8"?>
<description:Group xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:description="http://www.eclipse.org/sirius/description/1.1.0" xmlns:description_1="http://www.eclipse.org/sirius/diagram/description/1.1.0" xmlns:style="http://www.eclipse.org/sirius/diagram/description/style/1.1.0" xmlns:tool="http://www.eclipse.org/sirius/diagram/description/tool/1.1.0" xmlns:tool_1="http://www.eclipse.org/sirius/description/tool/1.1.0" name="eip" version="10.0.0.201505222000">
  <ownedViewpoints name="Enterprise Integration Patterns" modelFileExtension="*.eip">
    <ownedRepresentations xsi:type="description_1:DiagramDescription" dropDescriptions="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='DnD_OutOfComposite']" name="Route Diagram" initialisation="true" domainClass="eip.Route" enablePopupBars="true">
      <defaultLayer name="Default">
        <nodeMappings name="NRE_Endpoint" deletionDescription="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='Endpoint']" labelDirectEdit="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='Endpoint%20Name']" semanticCandidatesExpression="[ownedEndpoints/]" domainClass="eip.Endpoint">
          <style xsi:type="style:WorkspaceImageDescription" labelSize="10" showIcon="false" tooltipExpression="[name/]" sizeComputationExpression="-1" resizeKind="NSEW" workspacePath="com.github.lbroudoux.dsl.eip.edit/icons/full/obj64/Router.gif">
            <borderColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
          </style>
        </nodeMappings>
        <edgeMappings name="ERC_Channel" labelDirectEdit="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='Channel%20Name']" sourceMapping="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']" targetMapping="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']" targetFinderExpression="[toEndpoint/]" sourceFinderExpression="[fromEndpoint/]" domainClass="eip.Channel" useDomainElement="true" reconnections="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='Channel%20target'] //@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='Channel%20source']">
          <style sizeComputationExpression="2" routingStyle="manhattan">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            <centerLabelStyleDescription labelSize="9" labelExpression="[name/]">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
          <conditionnalStyles predicateExpression="[self.toEndpoint.eContainer() &lt;> self.fromEndpoint.eContainer()/]">
            <style sizeComputationExpression="2" routingStyle="manhattan">
              <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='red']"/>
              <centerLabelStyleDescription labelSize="9" labelExpression="[name/]">
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='red']"/>
              </centerLabelStyleDescription>
            </style>
          </conditionnalStyles>
        </edgeMappings>
        <edgeMappings name="RRC_CompositeDetails" sourceMapping="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']" targetMapping="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@containerMappings[name='CRE_Composite']" targetFinderExpression="[self/]">
          <style lineStyle="dash" targetArrow="NoDecoration" sizeComputationExpression="2" foldingStyle="SOURCE">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            <centerLabelStyleDescription>
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
        </edgeMappings>
        <edgeMappings name="ERR_ConditionnalRoute" semanticCandidatesExpression="[ownedEndpoints->filter(eip::Router)->union( ownedEndpoints->filter(eip::CompositeProcessor).ownedEndpoints->filter(eip::Router)->asOrderedSet() ).ownedRoutes /]" semanticElements="[Sequence{self, channel}/]" sourceMapping="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']" targetMapping="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']" targetFinderExpression="[channel.toEndpoint/]" sourceFinderExpression="[eContainer()/]" domainClass="eip.ConditionalRoute" useDomainElement="true" reconnections="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='Conditional%20Route%20target'] //@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='Conditional%20Route%20source']">
          <style lineStyle="dash" sizeComputationExpression="2" routingStyle="manhattan">
            <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='gray']"/>
            <centerLabelStyleDescription labelSize="9" showIcon="false" labelExpression="['['+condition+']'/]">
              <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
            </centerLabelStyleDescription>
          </style>
          <conditionnalStyles predicateExpression="[self.eContainer().eContainer() &lt;> self.channel.toEndpoint.eContainer()/]">
            <style lineStyle="dash" sizeComputationExpression="2" routingStyle="manhattan">
              <strokeColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='red']"/>
              <centerLabelStyleDescription labelSize="9" showIcon="false" labelExpression="['['+condition+']'/]">
                <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='red']"/>
              </centerLabelStyleDescription>
            </style>
          </conditionnalStyles>
        </edgeMappings>
        <containerMappings name="CRE_Composite" semanticCandidatesExpression="[ownedEndpoints/]" domainClass="eip.CompositeProcessor" dropDescriptions="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@toolSections.4/@ownedTools[name='DnD_InComposite']" reusedNodeMappings="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']" reusedContainerMappings="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@containerMappings[name='CRE_Composite']">
          <style xsi:type="style:FlatContainerStyleDescription" arcWidth="6" arcHeight="6" borderSizeComputationExpression="2" borderColor="//@userColorsPalettes[name='EIP%20Color%20Palette']/@entries[name='dark%20blue%20grey']" labelSize="9" labelFormat="bold" showIcon="false" labelColor="//@userColorsPalettes[name='EIP%20Color%20Palette']/@entries[name='deep%20orange']" roundedCorner="true">
            <backgroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
            <foregroundColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='white']"/>
          </style>
        </containerMappings>
        <toolSections name="Channels">
          <ownedTools xsi:type="tool:EdgeCreationDescription" name="Channel" precondition="[preSource.eContainer() = preTarget.eContainer() /]" edgeMappings="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@edgeMappings[name='ERC_Channel']">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="[source.eContainer(eip::Route)/]">
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="eip.Channel" referenceName="ownedChannels">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="fromEndpoint" valueExpression="[source/]"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="toEndpoint" valueExpression="[target/]"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="[source.name+'_'+target.name/]"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:EdgeCreationDescription" name="Route Choice" precondition="[preSource.eContainer() = preTarget.eContainer() /]" edgeMappings="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@edgeMappings[name='ERR_ConditionnalRoute']" iconPath="com.github.lbroudoux.dsl.eip.edit/icons/full/obj16/ConditionalRoute.gif" connectionStartPrecondition="[preSource.oclIsKindOf(eip::Router)/]">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="[source.eContainer(eip::Route)/]">
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="eip.Channel" referenceName="ownedChannels" variableName="instanceChannel">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="toEndpoint" valueExpression="[target/]"/>
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="['Channel_'/]"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:ChangeContext" browseExpression="[source/]">
                  <subModelOperations xsi:type="tool_1:CreateInstance" typeName="eip.ConditionalRoute" referenceName="ownedRoutes" variableName="route">
                    <subModelOperations xsi:type="tool_1:SetValue" featureName="condition" valueExpression="condition"/>
                    <subModelOperations xsi:type="tool_1:SetValue" featureName="channel" valueExpression="[instanceChannel/]"/>
                  </subModelOperations>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="Message Routing">
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Router" nodeMappings="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']" iconPath="com.github.lbroudoux.dsl.eip.edit/icons/full/obj16/Router.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:CreateInstance" typeName="eip.Router" referenceName="ownedEndpoints">
                <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="['Router_'+self.eContainer().eContents()->filter(eip::Router)->size()/]"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Filter" label="Filter" nodeMappings="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']" iconPath="com.github.lbroudoux.dsl.eip.edit/icons/full/obj16/Filter.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:CreateInstance" typeName="eip.Filter" referenceName="ownedEndpoints">
                <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="['Filter_'+self.eContainer().eContents()->filter(eip::Filter)->size()/]"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Splitter" nodeMappings="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']" iconPath="com.github.lbroudoux.dsl.eip.edit/icons/full/obj16/Splitter.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:CreateInstance" typeName="eip.Splitter" referenceName="ownedEndpoints">
                <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="['Splitter_'+self.eContainer().eContents()->filter(eip::Splitter)->size()/]"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Aggregator" nodeMappings="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']" iconPath="com.github.lbroudoux.dsl.eip.edit/icons/full/obj16/Aggregator.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:CreateInstance" typeName="eip.Aggregator" referenceName="ownedEndpoints">
                <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="['Aggregator_'+self.eContainer().eContents()->filter(eip::Aggregator)->size()/]"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Resequencer" nodeMappings="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']" iconPath="com.github.lbroudoux.dsl.eip.edit/icons/full/obj16/Resequencer.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:CreateInstance" typeName="eip.Resequencer" referenceName="ownedEndpoints">
                <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="['Resequencer_'+self.eContainer().eContents()->filter(eip::Resequencer)->size()/]"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ContainerCreationDescription" name="Composite Processor" containerMappings="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@containerMappings[name='CRE_Composite']" iconPath="com.github.lbroudoux.dsl.eip.edit/icons/full/obj16/CompositeProcessor.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:CreateInstance" typeName="eip.CompositeProcessor" referenceName="ownedEndpoints">
                <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="['Composite_'+self.eContainer().eContents()->filter(eip::CompositeProcessor)->size()/]"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Recipient List Router" nodeMappings="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']" iconPath="com.github.lbroudoux.dsl.eip.edit/icons/full/obj16/RecipientListRouter.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:CreateInstance" typeName="eip.RecipientListRouter" referenceName="ownedEndpoints">
                <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="['RecipientListRouter_'+self.eContainer().eContents()->filter(eip::RecipientListRouter)->size()/]"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="Message Transformation">
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Transformer" nodeMappings="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']" iconPath="com.github.lbroudoux.dsl.eip.edit/icons/full/obj16/Transformer.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:CreateInstance" typeName="eip.Transformer" referenceName="ownedEndpoints">
                <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="['Transformer_'+self.eContainer().eContents()->filter(eip::Transformer)->size()/]"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Content Enricher" nodeMappings="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']" iconPath="com.github.lbroudoux.dsl.eip.edit/icons/full/obj16/Enricher.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:CreateInstance" typeName="eip.Enricher" referenceName="ownedEndpoints">
                <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="['Enricher_'+self.eContainer().eContents()->filter(eip::Enricher)->size()/]"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Content Filter" nodeMappings="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']" iconPath="com.github.lbroudoux.dsl.eip.edit/icons/full/obj16/ContentFilter.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:CreateInstance" typeName="eip.ContentFilter" referenceName="ownedEndpoints">
                <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="['ContentFilter_'+self.eContainer().eContents()->filter(eip::ContentFilter)->size()/]"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="Message Endpoints">
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Gateway" nodeMappings="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']" iconPath="com.github.lbroudoux.dsl.eip.edit/icons/full/obj16/Gateway.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:CreateInstance" typeName="eip.Gateway" referenceName="ownedEndpoints">
                <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="['Gateway_'+self.eContainer().eContents()->filter(eip::Gateway)->size()/]"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Service Activator" nodeMappings="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']" iconPath="com.github.lbroudoux.dsl.eip.edit/icons/full/obj16/ServiceActivator.gif">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:CreateInstance" typeName="eip.ServiceActivator" referenceName="ownedEndpoints">
                <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="['ServiceActivator_'+self.eContainer().eContents()->filter(eip::ServiceActivator)->size()/]"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="Tools">
          <ownedTools xsi:type="tool:DirectEditLabel" name="Endpoint Name">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="[arg0/]"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:DirectEditLabel" name="Channel Name">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="[arg0/]"/>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ReconnectEdgeDescription" name="Channel target" precondition="[target.oclAsType(EObject).inTheSameContainerPrecondition(source.oclAsType(EObject)) /]">
            <source name="source"/>
            <target name="target"/>
            <sourceView name="sourceView"/>
            <targetView name="targetView"/>
            <element name="element"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="[element/]">
                <subModelOperations xsi:type="tool_1:SetValue" featureName="toEndpoint" valueExpression="[target/]"/>
              </firstModelOperations>
            </initialOperation>
            <edgeView name="edgeView"/>
          </ownedTools>
          <ownedTools xsi:type="tool:ReconnectEdgeDescription" name="Channel source" precondition="[target.oclAsType(EObject).inTheSameContainerPrecondition(source.oclAsType(EObject)) /]" reconnectionKind="RECONNECT_SOURCE">
            <source name="source"/>
            <target name="target"/>
            <sourceView name="sourceView"/>
            <targetView name="targetView"/>
            <element name="element"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="[target/]">
                <subModelOperations xsi:type="tool_1:SetValue" featureName="toChannels" valueExpression="[element/]"/>
              </firstModelOperations>
            </initialOperation>
            <edgeView name="edgeView"/>
          </ownedTools>
          <ownedTools xsi:type="tool:DeleteElementDescription" name="Endpoint">
            <element name="element"/>
            <elementView name="elementView"/>
            <containerView name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="[element/]">
                <subModelOperations xsi:type="tool_1:For" expression="[self.fromChannels->union(OrderedSet{self.toChannel})/]" iteratorName="channel">
                  <subModelOperations xsi:type="tool_1:RemoveElement"/>
                </subModelOperations>
                <subModelOperations xsi:type="tool_1:RemoveElement"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ReconnectEdgeDescription" name="Conditional Route target" precondition="[target.oclAsType(EObject).inTheSameContainerPrecondition(source.oclAsType(EObject)) /]">
            <source name="source"/>
            <target name="target"/>
            <sourceView name="sourceView"/>
            <targetView name="targetView"/>
            <element name="element"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="[element.channel/]">
                <subModelOperations xsi:type="tool_1:SetValue" featureName="toEndpoint" valueExpression="[target/]"/>
              </firstModelOperations>
            </initialOperation>
            <edgeView name="edgeView"/>
          </ownedTools>
          <ownedTools xsi:type="tool:ReconnectEdgeDescription" name="Conditional Route source" precondition="[target.oclIsKindOf(Router) and target.oclAsType(EObject).inTheSameContainerPrecondition(source.oclAsType(EObject))  /]" reconnectionKind="RECONNECT_SOURCE">
            <source name="source"/>
            <target name="target"/>
            <sourceView name="sourceView"/>
            <targetView name="targetView"/>
            <element name="element"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="[target/]">
                <subModelOperations xsi:type="tool_1:SetValue" featureName="toChannel" valueExpression="[element/]"/>
              </firstModelOperations>
            </initialOperation>
            <edgeView name="edgeView"/>
          </ownedTools>
          <ownedTools xsi:type="tool:ContainerDropDescription" name="DnD_InComposite" mappings="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']" dragSource="BOTH">
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="[newSemanticContainer /]">
                <subModelOperations xsi:type="tool_1:SetValue" featureName="ownedEndpoints" valueExpression="[element/]"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:ContainerDropDescription" name="DnD_OutOfComposite" mappings="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint'] //@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@containerMappings[name='CRE_Composite']" dragSource="BOTH">
            <oldContainer name="oldSemanticContainer"/>
            <newContainer name="newSemanticContainer"/>
            <element name="element"/>
            <newViewContainer name="newContainerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="[newSemanticContainer /]">
                <subModelOperations xsi:type="tool_1:SetValue" featureName="ownedEndpoints" valueExpression="[element/]"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <customization>
          <vsmElementCustomizations xsi:type="description:VSMElementCustomization" predicateExpression="[self.oclIsTypeOf(eip::Router)/]">
            <featureCustomizations xsi:type="description:EAttributeCustomization" appliedOn="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']/@style" attributeName="workspacePath" value="com.github.lbroudoux.dsl.eip.edit/icons/full/obj64/Router.gif"/>
          </vsmElementCustomizations>
          <vsmElementCustomizations xsi:type="description:VSMElementCustomization" predicateExpression="[self.oclIsTypeOf(eip::Filter)/]">
            <featureCustomizations xsi:type="description:EAttributeCustomization" appliedOn="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']/@style" attributeName="workspacePath" value="com.github.lbroudoux.dsl.eip.edit/icons/full/obj64/Filter.gif"/>
          </vsmElementCustomizations>
          <vsmElementCustomizations xsi:type="description:VSMElementCustomization" predicateExpression="[self.oclIsTypeOf(eip::Splitter)/]">
            <featureCustomizations xsi:type="description:EAttributeCustomization" appliedOn="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']/@style" attributeName="workspacePath" value="com.github.lbroudoux.dsl.eip.edit/icons/full/obj64/Splitter.gif"/>
          </vsmElementCustomizations>
          <vsmElementCustomizations xsi:type="description:VSMElementCustomization" predicateExpression="[self.oclIsTypeOf(eip::Aggregator)/]">
            <featureCustomizations xsi:type="description:EAttributeCustomization" appliedOn="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']/@style" attributeName="workspacePath" value="com.github.lbroudoux.dsl.eip.edit/icons/full/obj64/Aggregator.gif"/>
          </vsmElementCustomizations>
          <vsmElementCustomizations xsi:type="description:VSMElementCustomization" predicateExpression="[self.oclIsTypeOf(eip::Resequencer)/]">
            <featureCustomizations xsi:type="description:EAttributeCustomization" appliedOn="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']/@style" attributeName="workspacePath" value="com.github.lbroudoux.dsl.eip.edit/icons/full/obj64/Resequencer.gif"/>
          </vsmElementCustomizations>
          <vsmElementCustomizations xsi:type="description:VSMElementCustomization" predicateExpression="[self.oclIsTypeOf(eip::CompositeProcessor)/]">
            <featureCustomizations xsi:type="description:EAttributeCustomization" appliedOn="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']/@style" attributeName="workspacePath" value="com.github.lbroudoux.dsl.eip.edit/icons/full/obj64/CompositeProcessor.gif"/>
          </vsmElementCustomizations>
          <vsmElementCustomizations xsi:type="description:VSMElementCustomization" predicateExpression="[self.oclIsTypeOf(eip::RecipientListRouter)/]">
            <featureCustomizations xsi:type="description:EAttributeCustomization" appliedOn="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']/@style" attributeName="workspacePath" value="com.github.lbroudoux.dsl.eip.edit/icons/full/obj64/RecipientListRouter.gif"/>
          </vsmElementCustomizations>
          <vsmElementCustomizations xsi:type="description:VSMElementCustomization" predicateExpression="[self.oclIsTypeOf(eip::Transformer)/]">
            <featureCustomizations xsi:type="description:EAttributeCustomization" appliedOn="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']/@style" attributeName="workspacePath" value="com.github.lbroudoux.dsl.eip.edit/icons/full/obj64/Transformer.gif"/>
          </vsmElementCustomizations>
          <vsmElementCustomizations xsi:type="description:VSMElementCustomization" predicateExpression="[self.oclIsTypeOf(eip::Enricher)/]">
            <featureCustomizations xsi:type="description:EAttributeCustomization" appliedOn="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']/@style" attributeName="workspacePath" value="com.github.lbroudoux.dsl.eip.edit/icons/full/obj64/Enricher.gif"/>
          </vsmElementCustomizations>
          <vsmElementCustomizations xsi:type="description:VSMElementCustomization" predicateExpression="[self.oclIsTypeOf(eip::ContentFilter)/]">
            <featureCustomizations xsi:type="description:EAttributeCustomization" appliedOn="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']/@style" attributeName="workspacePath" value="com.github.lbroudoux.dsl.eip.edit/icons/full/obj64/ContentFilter.gif"/>
          </vsmElementCustomizations>
          <vsmElementCustomizations xsi:type="description:VSMElementCustomization" predicateExpression="[self.oclIsTypeOf(eip::Gateway)/]">
            <featureCustomizations xsi:type="description:EAttributeCustomization" appliedOn="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']/@style" attributeName="workspacePath" value="com.github.lbroudoux.dsl.eip.edit/icons/full/obj64/Gateway.gif"/>
          </vsmElementCustomizations>
          <vsmElementCustomizations xsi:type="description:VSMElementCustomization" predicateExpression="[self.oclIsTypeOf(eip::ServiceActivator)/]">
            <featureCustomizations xsi:type="description:EAttributeCustomization" appliedOn="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']/@style" attributeName="workspacePath" value="com.github.lbroudoux.dsl.eip.edit/icons/full/obj64/ServiceActivator.gif"/>
          </vsmElementCustomizations>
        </customization>
      </defaultLayer>
      <additionalLayers name="Services and Routes Refs">
        <nodeMappings name="NRS_ServiceRef" semanticCandidatesExpression="[ownedServiceRefs/]" domainClass="eip.ServiceRef">
          <style xsi:type="style:SquareDescription" borderSizeComputationExpression="3" borderColor="//@userColorsPalettes[name='EIP%20Color%20Palette']/@entries[name='deep%20orange']" labelSize="9" labelPosition="node" resizeKind="NSEW" color="//@userColorsPalettes[name='EIP%20Color%20Palette']/@entries[name='light%20blue%20grey']">
            <labelColor xsi:type="description:SystemColor" href="environment:/viewpoint#//@systemColors/@entries[name='black']"/>
          </style>
        </nodeMappings>
        <edgeMappings name="NRI_ServiceInvocation" sourceMapping="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@defaultLayer/@nodeMappings[name='NRE_Endpoint']" targetMapping="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@additionalLayers[name='Services%20and%20Routes%20Refs']/@nodeMappings[name='NRS_ServiceRef']" targetFinderExpression="[serviceRef/]" sourceFinderExpression="[eContainer()/]" domainClass="eip.ServiceInvocation" useDomainElement="true">
          <style strokeColor="//@userColorsPalettes[name='EIP%20Color%20Palette']/@entries[name='deep%20orange']" lineStyle="dash" sizeComputationExpression="2" routingStyle="manhattan">
            <centerLabelStyleDescription labelSize="9" labelFormat="bold" labelExpression="['Op : ' + operationName/]" labelColor="//@userColorsPalettes[name='EIP%20Color%20Palette']/@entries[name='deep%20orange']"/>
          </style>
        </edgeMappings>
        <toolSections name="References">
          <ownedTools xsi:type="tool:EdgeCreationDescription" name="Service Invocation" edgeMappings="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@additionalLayers[name='Services%20and%20Routes%20Refs']/@edgeMappings[name='NRI_ServiceInvocation']" connectionStartPrecondition="[preSource.oclIsKindOf(eip::InvocableEndpoint)/]">
            <sourceVariable name="source"/>
            <targetVariable name="target"/>
            <sourceViewVariable name="sourceView"/>
            <targetViewVariable name="targetView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:ChangeContext" browseExpression="[source/]">
                <subModelOperations xsi:type="tool_1:CreateInstance" typeName="eip.ServiceInvocation" referenceName="ownedServiceInvocations">
                  <subModelOperations xsi:type="tool_1:SetValue" featureName="serviceRef" valueExpression="[target/]"/>
                </subModelOperations>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
          <ownedTools xsi:type="tool:NodeCreationDescription" name="Service Reference" nodeMappings="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']/@additionalLayers[name='Services%20and%20Routes%20Refs']/@nodeMappings[name='NRS_ServiceRef']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:CreateInstance" typeName="eip.ServiceRef" referenceName="ownedServiceRefs">
                <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="['ServiceRef_'+self.eContainer(eip::Route).ownedServiceRefs->size()/]"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
      </additionalLayers>
    </ownedRepresentations>
    <ownedRepresentations xsi:type="description_1:DiagramDescription" name="Routes Catalog" initialisation="true" domainClass="eip.EIPModel">
      <defaultLayer name="Default">
        <containerMappings name="CCR_Route" detailDescriptions="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Routes%20Catalog']/@defaultLayer/@toolSections.2/@ownedTools[name='Route%20Details']" labelDirectEdit="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Routes%20Catalog']/@defaultLayer/@toolSections.1/@ownedTools[name='Route%20Name']" semanticCandidatesExpression="[ownedRoutes/]" domainClass="eip.Route">
          <style xsi:type="style:FlatContainerStyleDescription" arcWidth="6" arcHeight="6" borderSizeComputationExpression="2" borderColor="//@userColorsPalettes[name='EIP%20Color%20Palette']/@entries[name='dark%20blue%20grey']" labelSize="9" labelFormat="bold" labelColor="//@userColorsPalettes[name='EIP%20Color%20Palette']/@entries[name='deep%20orange']" roundedCorner="true" backgroundStyle="GradientTopToBottom" backgroundColor="//@userColorsPalettes[name='EIP%20Color%20Palette']/@entries[name='light%20blue%20grey']" foregroundColor="//@userColorsPalettes[name='EIP%20Color%20Palette']/@entries[name='blue%20grey']"/>
        </containerMappings>
        <toolSections name="Route">
          <ownedTools xsi:type="tool:ContainerCreationDescription" name="Route" containerMappings="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Routes%20Catalog']/@defaultLayer/@containerMappings[name='CCR_Route']">
            <variable name="container"/>
            <viewVariable name="containerView"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:CreateInstance" typeName="eip.Route" referenceName="ownedRoutes">
                <subModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="['Route_'+self.eContainer().eContents()->filter(eip::Router)->size()/]"/>
              </firstModelOperations>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="Tools">
          <ownedTools xsi:type="tool:DirectEditLabel" name="Route Name">
            <mask mask="{0}"/>
            <initialOperation>
              <firstModelOperations xsi:type="tool_1:SetValue" featureName="name" valueExpression="[arg0/]"/>
            </initialOperation>
          </ownedTools>
        </toolSections>
        <toolSections name="Navigations">
          <ownedTools xsi:type="tool:DiagramCreationDescription" name="Route Details" diagramDescription="//@ownedViewpoints[name='Enterprise%20Integration%20Patterns']/@ownedRepresentations[name='Route%20Diagram']">
            <initialOperation/>
            <containerViewVariable name="containerView"/>
            <representationNameVariable name="diagramName"/>
          </ownedTools>
        </toolSections>
        <decorationDescriptionsSet>
          <decorationDescriptions xsi:type="description:SemanticBasedDecoration" name="DCR_OneWay" position="NORTH_EAST" decoratorPath="com.github.lbroudoux.dsl.eip.edit/icons/full/OneWay.gif" preconditionExpression="[self.exchangeType =ExchangeType::IN_ONLY/]" domainClass="Route"/>
          <decorationDescriptions xsi:type="description:SemanticBasedDecoration" name="DCR_RequestReply" position="NORTH_EAST" decoratorPath="com.github.lbroudoux.dsl.eip.edit/icons/full/RequestReply.gif" preconditionExpression="[self.exchangeType =ExchangeType::IN_OUT/]" domainClass="Route"/>
        </decorationDescriptionsSet>
      </defaultLayer>
    </ownedRepresentations>
    <ownedJavaExtensions qualifiedClassName="com.github.lbroudoux.dsl.eip.design.services.DebugService"/>
    <ownedJavaExtensions qualifiedClassName="com.github.lbroudoux.dsl.eip.design.services.EipDesignService"/>
  </ownedViewpoints>
  <userColorsPalettes name="EIP Color Palette">
    <entries xsi:type="description:UserFixedColor" red="207" green="216" blue="220" name="light blue grey"/>
    <entries xsi:type="description:UserFixedColor" red="96" blue="139" name="blue grey"/>
    <entries xsi:type="description:UserFixedColor" red="69" green="90" blue="100" name="dark blue grey"/>
    <entries xsi:type="description:UserFixedColor" red="255" green="87" blue="33" name="deep orange"/>
  </userColorsPalettes>
</description:Group>
